<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Enzzo Cavallo</title>
  <link rel="stylesheet" href="/blog/assets/main.css">
  <link rel="stylesheet" type="text/css" href="https://storage.googleapis.com/app.klipse.tech/css/codemirror.css">
  <script src="https://unpkg.com/vis@4.21.0/dist/vis.min.js"></script>
</head>
<body style="display: flex;  flex-direction: column">
<nav style="display: flex; justify-content: space-around">
  
  <a href="/blog"><- home</a>
  
</nav>
<section>
  <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">How to add react-native in a running cljs project</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2019-03-01T00:00:00-03:00" itemprop="datePublished">Mar 1, 2019
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>This tutorial will cover how to add react-native in a running cljs project.</p>

<p>I will flow this repo: <a href="https://github.com/souenzzo/cljs-rn-tutorial/commits/master">souenzzo/cljs-rn-tutorial</a></p>

<p>To run this app you need to start the repl with all profiles <code class="highlighter-rouge">clj -A:dev:cljs</code> then call <code class="highlighter-rouge">(user/-main)</code></p>

<ul>
  <li><a href="https://github.com/souenzzo/cljs-rn-tutorial/commit/3f3ed613a45e6dacfa8b6eee1048749600dfb7e0">commit</a> 
Add the react-native dependencie</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>yarn add react-native 
</code></pre></div></div>

<ul>
  <li><a href="https://github.com/souenzzo/cljs-rn-tutorial/commit/58f4d4850211a21195af15a87d9aebd75f3300fd">commmit</a>
Generate react-native files</li>
</ul>

<p>Createa a <code class="highlighter-rouge">app.json</code> file</p>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="s2">"name"</span><span class="p">:</span><span class="w">        </span><span class="s2">"cljsrn"</span><span class="w">
</span><span class="p">,</span><span class="w"> </span><span class="s2">"displayName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cljs+rn"</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Append this in your <code class="highlighter-rouge">.gitignore</code></p>
<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>...
android/.gradle/
android/app/build/
</code></pre></div></div>

<p>run <code class="highlighter-rouge">./node_modules/.bin/react-native eject</code> and <code class="highlighter-rouge">git add ios app.json android</code></p>

<p>I also do not like to commit generated files, but it is necessary <code class="highlighter-rouge">:'(</code></p>

<ul>
  <li><a href="https://github.com/souenzzo/cljs-rn-tutorial/commit/dd2a3c5f1b50b76d53c58d566b70f19e6171b9cc">commit</a></li>
</ul>

<p>Create a <code class="highlighter-rouge">index.js</code> this this template.</p>

<p>Then you can run <code class="highlighter-rouge">./node_modules/.bin/react-native start</code> and <code class="highlighter-rouge">./node_modules/.bin/react-native run-android</code></p>

<p>To make a <code class="highlighter-rouge">./node_modules/.bin/react-native run-android</code>, you need to get a emulator running or a phone in the cabble
with android dev stuff configured.</p>

<p>Once you get the app running on android, you can edit the text, save, press <code class="highlighter-rouge">r-r</code> on the emulator and see the reload</p>

<ul>
  <li><a href="https://github.com/souenzzo/cljs-rn-tutorial/commit/217f4ca775aaf90226c0ce61cd3540524985637d">commit</a>
Configure shadow-cljs
This commit will configure shadow-cljs and move the hello from js to cljs.</li>
</ul>

<p>After do this, you will need to restart the REPL. That shoud be the only one restart.</p>

<ul>
  <li><a href="https://github.com/souenzzo/cljs-rn-tutorial/commit/3ef0602de20210e9c29942c2580cd68e7f0958b9">commit</a>
Start fulcro app</li>
</ul>

<p>I started the fulcro. Coping the code from the web and moving the dom ns to react-native.</p>

<p>[WIP] - I need to get the remote working.</p>

  </div><a class="u-url" href="/blog/2019/03/01/add-react-native-in-a-running-cljs-project.html" hidden></a>
</article>

</section>
<footer style="display: flex; justify-content: space-around">
  <a href="https://twitter.com/souenzzo">twitter</a>
  <a href="https://github.com/souenzzo">github</a>
</footer>
<script>
    window.klipse_settings = {
        selector: '.language-klipse'// css selector for the html elements you want to klipsify
    };
</script>
<script src="https://storage.googleapis.com/app.klipse.tech/plugin/js/klipse_plugin.js"></script>
</body>
</html>
